<!DOCTYPE html>
<html>
  <head>
    <title>Submit Note</title>
  </head>
  <body>
    <h1>Submit a Note</h1>
    <form id="noteForm" action="" method="post">
      <label for="fileTitle">File Title:</label>
      <input type="text" id="fileTitle" name="fileTitle" required /><br /><br />

      <label for="question">Question:</label>
      <input type="text" id="question" name="question" required /><br /><br />

      <label for="answer">Answer:</label>
      <textarea id="answer" name="answer" required></textarea><br /><br />

      <input type="submit" value="Submit" />
    </form>

    <script>
      // Add JavaScript to dynamically set the form's action URL
      const form = document.getElementById('noteForm')

      form.addEventListener('submit', function (event) {
        event.preventDefault()

        const fileTitle = document.getElementById('fileTitle').value
        const actionUrl = `http://localhost:3000/append/${fileTitle}.json`
        form.action = actionUrl

        // Now submit the form
        form.submit()
      })
    </script>
  </body>
</html>
